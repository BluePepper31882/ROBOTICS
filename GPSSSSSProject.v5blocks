{"mode":"Blocks","workspace":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"2W=Ml#Ax+5(-+v*p/6c#\">startingX</variable><variable id=\"5gz%I9KCMkc/pl,`aw:]\">startingY</variable><variable id=\"lmSvcEvrI0$LE?~blmMr\">endingX</variable><variable id=\"sq7693{Y~d}+@?x=t%??\">endingY</variable><variable id=\":?`JS8d+=pT~RBwhGcKR\">angle</variable><variable id=\"7|02:J!5`HkYp6[:Zvwi\">driveDistance</variable></variables><comment id=\"C6%-FVGUtrl3I36F+_Qj\" x=\"1784\" y=\"1559\" h=\"429\" w=\"603\">Project:\nDrive to Location (Using Tangents)\n\nDescription:\nThis example will show how to use a GPS Sensor to navigate a V5 Moby Hero Bot to the center of the field by using a tangent calculation to determine the heading to drive towards.\n\nStarting Position:\nAny\n\nConfiguration:\nV5 Hero Bot (Drivetrain 2-motor, Inertial)\nMotor Group on Port 2 and 9\nRotation on Port 4\nGPS on Port 8\nDistance on Port 12\nOptical on Port 19\nDistance on Port 20\nBumper on 3-Wire Port A</comment><block type=\"v5_events_when_started\" id=\".NsXwU_L.OuU1l7Sho$F\" x=\"1170\" y=\"1570\"><next><block type=\"v5_sensing_gps_calibrate\" id=\"dKHk}9_4[ybW;D4KBsd1\"><field name=\"GPS\">DrivetrainGPS</field><next><block type=\"v5_other_comment\" id=\"@Kg$iwK%4DilRA$Q(PP{\"><value name=\"COMMENT\"><shadow type=\"comment_text\" id=\"/qn^%!!ZFC9h1ajWm3(2\"><field name=\"comment\">Orient the drivetrain's heading with the GPS heading</field></shadow></value><next><block type=\"v5_drivetrain_set_drive_heading\" id=\"#K#f:JZpOk;CR}F;X+Te\"><value name=\"HEADING\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"txe;%qn)iC2VQz:q=dCN\"><field name=\"NUM\">0</field></shadow><block type=\"v5_sensing_gps_heading\" id=\"ViOm(s`J:%Kpr)jL+q,E\"><field name=\"GPS\">DrivetrainGPS</field></block></value><next><block type=\"v5_drivetrain_set_turn_velocity\" id=\")r54S?P5fYen)6@hA89F\"><field name=\"UNITS\">pct</field><value name=\"VELOCITY\"><shadow type=\"math_number\" id=\"r9|]uJ+3.L^VLyD{}7dM\"><field name=\"NUM\">25</field></shadow></value><next><block type=\"v5_other_comment\" id=\"J3{f#GuYwyn{IN$9fO[3\"><value name=\"COMMENT\"><shadow type=\"comment_text\" id=\"jU5Ldm!x`[cGMmD=4(a5\"><field name=\"comment\">Print the starting position of the robot</field></shadow></value><next><block type=\"procedures_call\" id=\"AMwm(J@wJi|dCOr@u99X\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" proccode=\"printPosition\" proceduredefid=\"Y(MGI+fxesT(n2I@%%Pl\" argumentids=\"[]\" warp=\"false\"></mutation><next><block type=\"v5_other_comment\" id=\"grGR7rKAp)mu:bw?:oD?\"><value name=\"COMMENT\"><shadow type=\"comment_text\" id=\"ywXJ_]=Pu,aBD`+qZk]2\"><field name=\"comment\">Store the current position of the robot</field></shadow></value><next><block type=\"v5_variables_set_variable\" id=\"R=GD!HDq]rw[m+|3+B@h\"><field name=\"VARIABLE\" id=\"2W=Ml#Ax+5(-+v*p/6c#\">startingX</field><value name=\"VALUE\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"sPFPI/EIjhykJva{$MV,\"><field name=\"NUM\">0</field></shadow><block type=\"v5_sensing_gps_position\" id=\"[g^HHj%b0Ua,RVTp^:@/\"><field name=\"GPS\">DrivetrainGPS</field><field name=\"POSITION\">X</field><field name=\"UNITS\">mm</field></block></value><next><block type=\"v5_variables_set_variable\" id=\"3XTASl,!,WlOjBkePtAT\"><field name=\"VARIABLE\" id=\"5gz%I9KCMkc/pl,`aw:]\">startingY</field><value name=\"VALUE\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"O.vFD;cvBI%39MU_~%q0\"><field name=\"NUM\">0</field></shadow><block type=\"v5_sensing_gps_position\" id=\"/Y9$`ZcP1]}cLp0A(Fa=\"><field name=\"GPS\">DrivetrainGPS</field><field name=\"POSITION\">Y</field><field name=\"UNITS\">mm</field></block></value><next><block type=\"v5_other_comment\" id=\".rjI?6iuw-Q`d8a(*!.Y\"><value name=\"COMMENT\"><shadow type=\"comment_text\" id=\"wpQS+*kAzacDp$HE0GUy\"><field name=\"comment\">Store the target ending position of the robot</field></shadow></value><next><block type=\"v5_variables_set_variable\" id=\"~tDX18*@Q`(w?kqbI3*U\"><field name=\"VARIABLE\" id=\"lmSvcEvrI0$LE?~blmMr\">endingX</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"kX^G0{_ms~y4g;XFJr$M\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"v5_variables_set_variable\" id=\"YxV_8/m/M]x+TI*V8Z1Y\"><field name=\"VARIABLE\" id=\"sq7693{Y~d}+@?x=t%??\">endingY</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"0n{XPiqo@4gItz.fC-ns\"><field name=\"NUM\">500</field></shadow></value><next><block type=\"v5_other_comment\" id=\";@pDMCi:E/l)JCI:]k*Y\"><value name=\"COMMENT\"><shadow type=\"comment_text\" id=\"jJH-okyH/O2kH5Hl$szg\"><field name=\"comment\">Implement atan2 to calculate the heading that the robot needs to</field></shadow></value><next><block type=\"v5_other_comment\" id=\"[Je5GU9J`3Ymh0M.J+-a\"><value name=\"COMMENT\"><shadow type=\"comment_text\" id=\"=_F*U6.6DksviQ1_FPx5\"><field name=\"comment\">turn to in order to drive towards the ending position</field></shadow></value><next><block type=\"v5_variables_set_variable\" id=\"E#!22E]masDw~kn#/c4^\"><field name=\"VARIABLE\" id=\":?`JS8d+=pT~RBwhGcKR\">angle</field><value name=\"VALUE\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"M~(:`W!kIxInyDVjc**4\"><field name=\"NUM\">0</field></shadow><block type=\"v5_operator_function\" id=\"/sA}_`VWJxf9q//t1EDa\"><field name=\"OPERATOR\">atan</field><value name=\"NUM\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"[!a^cld0Hk6.thK[(l6A\"><field name=\"NUM\"></field></shadow><block type=\"v5_operator_divide\" id=\"1ngF/xz;RkF5}Mw?|vSc\"><value name=\"NUM1\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"Bkc]]9Fh[_iozC,CrYz-\"><field name=\"NUM\"></field></shadow><block type=\"v5_operator_subtract\" id=\"Kg7Wp#(QQrBI9M|jPc0F\"><value name=\"NUM1\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\",iKlu_#`;=NK,~I=(^6y\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"5RsYwZK-m6QWey,T%tow\"><field name=\"VARIABLE\" id=\"lmSvcEvrI0$LE?~blmMr\">endingX</field></block></value><value name=\"NUM2\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"}@3SY^,.NLf[xb~.=nYt\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"L}3p+HWT97,d_5v,bDfK\"><field name=\"VARIABLE\" id=\"2W=Ml#Ax+5(-+v*p/6c#\">startingX</field></block></value></block></value><value name=\"NUM2\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"ZD0ho:Z08g[jN}uE7?s(\"><field name=\"NUM\"></field></shadow><block type=\"v5_operator_subtract\" id=\"Y/4jox!k2Z@(02k}rY#g\"><value name=\"NUM1\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"4?X5;YjwTL1,jyNnV5I}\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"?w3%en`LD2TCV*!l(,fa\"><field name=\"VARIABLE\" id=\"sq7693{Y~d}+@?x=t%??\">endingY</field></block></value><value name=\"NUM2\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"2*s2Oax!966h]hfY++id\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"{Zl/hyPycbT;~Ge]Qa%}\"><field name=\"VARIABLE\" id=\"5gz%I9KCMkc/pl,`aw:]\">startingY</field></block></value></block></value></block></value></block></value><next><block type=\"v5_control_if_then\" id=\"hKN=zhM=|oYK/4^[]?h0\"><value name=\"CONDITION\"><block type=\"v5_operator_less_than\" id=\"=R!?zIol:U2YF^j4_;UO\"><value name=\"OPERAND1\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"70eocJ5.NVpd:*rDC=+A\"><field name=\"NUM\"></field></shadow><block type=\"v5_operator_subtract\" id=\"#mg|5eBHFRj:6`@GeCDz\"><value name=\"NUM1\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"pCU]U~isp{Mb9T}{FO8!\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"N}lg!@}sBHT8_!m~dEXW\"><field name=\"VARIABLE\" id=\"sq7693{Y~d}+@?x=t%??\">endingY</field></block></value><value name=\"NUM2\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"Gn{1DT)`rqEi.a!4WDq3\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"|9vlHPsQjW(m_n-ku2[W\"><field name=\"VARIABLE\" id=\"5gz%I9KCMkc/pl,`aw:]\">startingY</field></block></value></block></value><value name=\"OPERAND2\"><shadow type=\"math_number\" id=\"I{vlGtE1sh,90.J|tN*~\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"SUBSTACK\"><block type=\"v5_variables_change_variable\" id=\"O;^vK0{69%1c~_M4M`qC\"><field name=\"VARIABLE\" id=\":?`JS8d+=pT~RBwhGcKR\">angle</field><value name=\"VALUE\"><shadow type=\"math_number\" id=\"pD*eM95bQ=N8oxy-!+x%\"><field name=\"NUM\">180</field></shadow></value></block></statement><next><block type=\"v5_other_comment\" id=\"%Rw(/}Q,`ybr0|`NspSq\"><value name=\"COMMENT\"><shadow type=\"comment_text\" id=\"!A!`L6J$6.X:Q]gz3qHy\"><field name=\"comment\">Turn the robot to face the ending position</field></shadow></value><next><block type=\"v5_drivetrain_turn_to_heading\" id=\"vYDh!7bjP(JWkjFKf-;p\"><field name=\"anddontwait_mutator\">false</field><value name=\"HEADING\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"R65lqkfeydTe_rAlmAWV\"><field name=\"NUM\">90</field></shadow><block type=\"v5_variables_variable\" id=\"NZ$^*RUU1e*,loM!of49\"><field name=\"VARIABLE\" id=\":?`JS8d+=pT~RBwhGcKR\">angle</field></block></value><next><block type=\"v5_other_comment\" id=\"o|s`,i9LBotNA;7j88.0\"><value name=\"COMMENT\"><shadow type=\"comment_text\" id=\"]!YEQ/i**]T=^2Ij|pg`\"><field name=\"comment\">Calculate the drive distance needed, then drive towards the target position</field></shadow></value><next><block type=\"v5_variables_set_variable\" id=\"H=cprgX=~e:Q-tEPfh:s\"><field name=\"VARIABLE\" id=\"7|02:J!5`HkYp6[:Zvwi\">driveDistance</field><value name=\"VALUE\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"N!3+(-:B]}.Ts_-0/5]U\"><field name=\"NUM\">0</field></shadow><block type=\"v5_operator_function\" id=\"wm|}lLGmpWc;4^wS({oq\"><field name=\"OPERATOR\">sqrt</field><value name=\"NUM\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"-vjxvINR+%fW#b9w2]Pk\"><field name=\"NUM\"></field></shadow><block type=\"v5_operator_add\" id=\"h:aj:XInv]]yp3Ns9H;d\"><value name=\"NUM1\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"$so@en,Zaa1R6U_0`AM^\"><field name=\"NUM\"></field></shadow><block type=\"v5_operator_multiply\" id=\"L79lYm=+D?sbNI.=u($X\"><value name=\"NUM1\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"LiLTs?TihW/xo%_A_k{7\"><field name=\"NUM\"></field></shadow><block type=\"v5_operator_subtract\" id=\"X^J3E;GtM}lY%Prgf{?@\"><value name=\"NUM1\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"V.NBr3cKqX$X]yTYw$Wg\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"{r%7TYPg_A:nD_on_K,5\"><field name=\"VARIABLE\" id=\"lmSvcEvrI0$LE?~blmMr\">endingX</field></block></value><value name=\"NUM2\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"-mTBY[t/rIQ[PU%X{+wj\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"e_Dq2;vRRCht8tFg48Yt\"><field name=\"VARIABLE\" id=\"2W=Ml#Ax+5(-+v*p/6c#\">startingX</field></block></value></block></value><value name=\"NUM2\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"XsqPc?q!+m+!!ex458%0\"><field name=\"NUM\"></field></shadow><block type=\"v5_operator_subtract\" id=\"6S|Rz,CIthg$XEy?WNq`\"><value name=\"NUM1\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"i0obpav74?IOhOe?^mZ#\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"ybBn__NL:yqrqQlFr^Xi\"><field name=\"VARIABLE\" id=\"lmSvcEvrI0$LE?~blmMr\">endingX</field></block></value><value name=\"NUM2\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"1,uQ9uMl5r!,d)[-dLXh\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"]hxIv1UyH;k#Aes`MyI1\"><field name=\"VARIABLE\" id=\"2W=Ml#Ax+5(-+v*p/6c#\">startingX</field></block></value></block></value></block></value><value name=\"NUM2\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"Ah6]c!PdqBR)46N7WQOy\"><field name=\"NUM\"></field></shadow><block type=\"v5_operator_multiply\" id=\"M_Z]D04x1yf%Z??Nh[TD\"><value name=\"NUM1\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"IXGG!zdhXauBuA-#GR~$\"><field name=\"NUM\"></field></shadow><block type=\"v5_operator_subtract\" id=\"V:ce):g.SKyH84DGt57`\"><value name=\"NUM1\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"Wb]@:Deywv]Bmp#zmaXY\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"/0@jgqb+VM3!q0Sk{o)/\"><field name=\"VARIABLE\" id=\"sq7693{Y~d}+@?x=t%??\">endingY</field></block></value><value name=\"NUM2\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"JI}.ET]rhN%7$NH=ESkn\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"9%u([$QhQVp]_}+a8_$H\"><field name=\"VARIABLE\" id=\"5gz%I9KCMkc/pl,`aw:]\">startingY</field></block></value></block></value><value name=\"NUM2\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"^QawyKm?N}1v8Z(pp`^S\"><field name=\"NUM\"></field></shadow><block type=\"v5_operator_subtract\" id=\"tyiEqO:y]lgC]PeAtiCF\"><value name=\"NUM1\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"eQP8FYOQVHOx;NEpSmil\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"0:qc^+NZ#de27yWm,=[j\"><field name=\"VARIABLE\" id=\"sq7693{Y~d}+@?x=t%??\">endingY</field></block></value><value name=\"NUM2\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"1lY4bq[B6F(AsII{F2hP\"><field name=\"NUM\"></field></shadow><block type=\"v5_variables_variable\" id=\"USaLV;te,guuCua)6U-e\"><field name=\"VARIABLE\" id=\"5gz%I9KCMkc/pl,`aw:]\">startingY</field></block></value></block></value></block></value></block></value></block></value><next><block type=\"v5_drivetrain_drive_for\" id=\"M7IiOui5XE=?E/iJ]?0R\"><field name=\"DIRECTION\">fwd</field><field name=\"UNITS\">mm</field><field name=\"anddontwait_mutator\">false</field><value name=\"AMOUNT\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"math_number\" id=\"G+6blX_a6{$20LnA^7i.\"><field name=\"NUM\">200</field></shadow><block type=\"v5_variables_variable\" id=\"9Si?gm9UX0QpF$Z:w9M+\"><field name=\"VARIABLE\" id=\"7|02:J!5`HkYp6[:Zvwi\">driveDistance</field></block></value><next><block type=\"v5_other_comment\" id=\"Q{4OW+O=~)EKds8^9Q8^\"><value name=\"COMMENT\"><shadow type=\"comment_text\" id=\"rDrSvIL=3+^n`%UR3lfR\"><field name=\"comment\">Print the ending position of the robot</field></shadow></value><next><block type=\"procedures_call\" id=\"/.^(iUlA-_`Y}J1?`mUl\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" proccode=\"printPosition\" proceduredefid=\"Y(MGI+fxesT(n2I@%%Pl\" argumentids=\"[]\" warp=\"false\"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"procedures_definition\" id=\"leIdq6AX1ARWT3u^q9O2\" x=\"2090\" y=\"2050\"><statement name=\"custom_block\"><shadow type=\"procedures_prototype\" id=\"Y(MGI+fxesT(n2I@%%Pl\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" proccode=\"printPosition\" proceduredefid=\"Y(MGI+fxesT(n2I@%%Pl\" argumentids=\"[]\" argumentnames=\"[]\" argumentdefaults=\"[]\" argumenttypes=\"[]\" warp=\"false\"></mutation></shadow></statement><next><block type=\"v5_other_comment\" id=\"G=8j2Ie+]laj_(.oFLGk\"><value name=\"COMMENT\"><shadow type=\"comment_text\" id=\"nmEmf#DBh*mU)6?1Z!P*\"><field name=\"comment\">This MyBlock will print GPS position values to the V5 Brain</field></shadow></value><next><block type=\"v5_looks_print\" id=\"PXRzVpWeE%?BhOG:9~ws\"><field name=\"TARGET\">Brain</field><field name=\"andsetcursortonextrow_mutator\">false</field><value name=\"DATA\"><shadow type=\"text\" id=\"gED}avk@zDI8f2-vY[=;\"><field name=\"TEXT\">X:</field></shadow></value><next><block type=\"v5_looks_print\" id=\"t^5myFoA_mVYRJa(P[8b\"><field name=\"TARGET\">Brain</field><field name=\"andsetcursortonextrow_mutator\">false</field><value name=\"DATA\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"text\" id=\"RaJs,@Q79}]?}v$?8vhn\"><field name=\"TEXT\">VEXcode</field></shadow><block type=\"v5_sensing_gps_position\" id=\":+Sab3@dOSRP]jVLthZ%\"><field name=\"GPS\">DrivetrainGPS</field><field name=\"POSITION\">X</field><field name=\"UNITS\">mm</field></block></value><next><block type=\"v5_looks_print\" id=\"2455n4BDEl.q!1pZMHKo\"><field name=\"TARGET\">Brain</field><field name=\"andsetcursortonextrow_mutator\">false</field><value name=\"DATA\"><shadow type=\"text\" id=\"T*xyava|2Z9m/h(Q_vkK\"><field name=\"TEXT\">Y:</field></shadow></value><next><block type=\"v5_looks_print\" id=\"Eig!/dp_/tw9J+.nSO*E\"><field name=\"TARGET\">Brain</field><field name=\"andsetcursortonextrow_mutator\">true</field><value name=\"DATA\"><shadow xmlns=\"http://www.w3.org/1999/xhtml\" type=\"text\" id=\"%]$$T^2P2.BA?F_Gl(B8\"><field name=\"TEXT\">VEXcode</field></shadow><block type=\"v5_sensing_gps_position\" id=\"bK%A(-bUeXqBe2dpkX.#\"><field name=\"GPS\">DrivetrainGPS</field><field name=\"POSITION\">Y</field><field name=\"UNITS\">mm</field></block></value></block></next></block></next></block></next></block></next></block></next></block></xml>","rconfig":[{"port":[2,4,21],"name":"Drivetrain","customName":false,"deviceType":"Drivetrain","deviceClass":"smartdrive","setting":{"type":"2-motor","wheelSize":"wheel4in","gear":"ratio18_1","gearRatio":"1:1","direction":"fwd","gyroType":"gps","width":"295","unit":"mm","wheelbase":"40","wheelbaseUnit":"mm","xOffset":"0","xOffsetUnit":"mm","yOffset":"0","yOffsetUnit":"mm","thetaOffset":"180"},"triportSourcePort":null}],"slot":0,"platform":"V5","sdkVersion":"20220726.10.00.00","appVersion":"3.0.4","minVersion":"3.0.0","fileFormat":"1.0.1","icon":"","targetBrainGen":"First","v5Sounds":[{"name":"game over","url":"static/sounds/mixkit-arcade-retro-game-over-213.wav"}],"v5SoundsEnabled":false,"downloadLanguage":"python","cppStatus":"true","cpp":"// Make sure all required headers are included.\n#include <stdio.h>\n#include <stdlib.h>\n#include <stdbool.h>\n#include <math.h>\n#include <string.h>\n\n\n#include \"vex.h\"\n\nusing namespace vex;\n\n// Brain should be defined by default\nbrain Brain;\n\n\n// START V5 MACROS\n#define waitUntil(condition)                                                   \\\n  do {                                                                         \\\n    wait(5, msec);                                                             \\\n  } while (!(condition))\n\n#define repeat(iterations)                                                     \\\n  for (int iterator = 0; iterator < iterations; iterator++)\n// END V5 MACROS\n\n\n// Robot configuration code.\nmotor LeftDriveSmart = motor(PORT2, ratio18_1, false);\nmotor RightDriveSmart = motor(PORT4, ratio18_1, true);\ngps DrivetrainGPS = gps(PORT21, 0.00, 0.00, mm, 180);\nsmartdrive Drivetrain = smartdrive(LeftDriveSmart, RightDriveSmart, DrivetrainGPS, 319.19, 320, 40, mm, 1);\n\n\nvoid calibrateDrivetrain() {\n  wait(200, msec);\n  Brain.Screen.print(\"Calibrating\");\n  Brain.Screen.newLine();\n  Brain.Screen.print(\"GPS\");\n  DrivetrainGPS.calibrate();\n  while (DrivetrainGPS.isCalibrating()) {\n    wait(25, msec);\n  }\n\n  // Clears the screen and returns the cursor to row 1, column 1.\n  Brain.Screen.clearScreen();\n  Brain.Screen.setCursor(1, 1);\n}\n\n\n\n// Helper to make playing sounds from the V5 in VEXcode easier and\n// keeps the code cleaner by making it clear what is happening.\nvoid playVexcodeSound(const char *soundName) {\n  printf(\"VEXPlaySound:%s\\n\", soundName);\n  wait(5, msec);\n}\n\n\n\n// Generated code.\n\n// Include the V5 Library\n#include \"vex.h\"\n  \n// Allows for easier use of the VEX Library\nusing namespace vex;\n\n// User defined function\nvoid myblockfunction_printPosition();\n\nint Brain_precision = 0, Console_precision = 0;\n\nfloat startingX, startingY, endingX, endingY, angle, driveDistance;\n\n// Used to find the format string for printing numbers with the\n// desired number of decimal places\nconst char* printToBrain_numberFormat() {\n  // look at the current precision setting to find the format string\n  switch(Brain_precision){\n    case 0:  return \"%.0f\"; // 0 decimal places (1)\n    case 1:  return \"%.1f\"; // 1 decimal place  (0.1)\n    case 2:  return \"%.2f\"; // 2 decimal places (0.01)\n    case 3:  return \"%.3f\"; // 3 decimal places (0.001)\n    default: return \"%f\"; // use the print system default for everthing else\n  }\n}\n\n// User defined function\nvoid myblockfunction_printPosition() {\n  // This MyBlock will print GPS position values to the V5 Brain\n  Brain.Screen.print(\"X:\");\n  Brain.Screen.print(printToBrain_numberFormat(), static_cast<float>(DrivetrainGPS.xPosition(mm)));\n  Brain.Screen.print(\"Y:\");\n  Brain.Screen.print(printToBrain_numberFormat(), static_cast<float>(DrivetrainGPS.yPosition(mm)));\n  Brain.Screen.newLine();\n}\n\n// \"when started\" hat block\nint whenStarted1() {\n  DrivetrainGPS.calibrate();\n  while (DrivetrainGPS.isCalibrating()) { task::sleep(50); }\n  // Orient the drivetrain's heading with the GPS heading\n  Drivetrain.setHeading(DrivetrainGPS.heading(), degrees);\n  Drivetrain.setTurnVelocity(25.0, percent);\n  // Print the starting position of the robot\n  myblockfunction_printPosition();\n  // Store the current position of the robot\n  startingX = DrivetrainGPS.xPosition(mm);\n  startingY = DrivetrainGPS.yPosition(mm);\n  // Store the target ending position of the robot\n  endingX = 0.0;\n  endingY = 500.0;\n  // Implement atan2 to calculate the heading that the robot needs to\n  // turn to in order to drive towards the ending position\n  angle = atan((endingX - startingX) / (endingY - startingY)) * 180 / M_PI;\n  if (endingY - startingY < 0.0) {\n    angle = angle + 180.0;\n  }\n  // Turn the robot to face the ending position\n  Drivetrain.turnToHeading(angle, degrees, true);\n  // Calculate the drive distance needed, then drive towards the target position\n  driveDistance = sqrt((endingX - startingX) * (endingX - startingX) + (endingY - startingY) * (endingY - startingY));\n  Drivetrain.driveFor(forward, driveDistance, mm, true);\n  // Print the ending position of the robot\n  myblockfunction_printPosition();\n  return 0;\n}\n\n\nint main() {\n  // Calibrate the Drivetrain\n  calibrateDrivetrain();\n\n  // post event registration\n\n  // set default print color to black\n  printf(\"\\033[30m\");\n\n  // wait for rotation sensor to fully initialize\n  wait(30, msec);\n\n  whenStarted1();\n}","target":"Physical"}